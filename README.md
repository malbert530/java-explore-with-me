# **ExploreWithMe**
ExploreWithMe — это бэкенд для сервиса, который позволяет пользователям делиться информацией об интересных событиях, от выставки до похода в кино, и находить компанию для участия в них.

## **Технологии, которые использовались при разработке**
- **Spring Boot (Web, Data JPA, Validation, Lombok)**
- **REST API**
- **PostgreSQL / H2 (тесты)**
- **Maven**
- **Hibernate / JPA**
- **Docker & Docker Compose**

### Архитектура
Проект состоит из двух сервисов:
- **ewm-service** — основной сервис (пользователи, события, подборки, заявки).
- **stats-service** — сервис статистики будет хранить количество просмотров и позволит делать различные выборки для анализа работы приложения.

#### Основной сервис
API основного сервиса разделен на три части:
- публичная — доступна без регистрации любому пользователю сети;
- закрытая — доступна только авторизованным пользователям;
- административная — для администраторов сервиса.
#### Сервис статистики
Он будет собирать информацию. Во-первых, о количестве обращений пользователей к спискам событий и, во-вторых, о количестве запросов к подробной информации о событии. 
На основе этой информации должна формироваться статистика о работе приложения.

**Сервисы взаимодействуют по HTTP через клиент `StatsClient`.**

### Основные функциональности:
- Добавление пользователей.
- Добавление категорий событий.
- Создание, публикация и модерация событий.
- Поиск и фильтрация событий (категории, даты, доступность, сортировка).
- Подборки событий.
- Заявки на участие в событиях.
- Статистика просмотров событий.
- Комментарии к событию(возможность отредактировать в течение 15 минут)

### API спецификации
- [ewm-main-service-spec.json](./ewm-main-service-spec.json) — основной сервис  
- [ewm-stats-service-spec.json](./ewm-stats-service-spec.json) — сервис статистики

### Запуск проекта

Docker Compose
```bash
docker compose up -d
```

### Используемые эндпоинты(основные)
### Public API

GET /events — поиск событий

GET /events/{id} — просмотр события

GET /categories — список категорий

GET /compilations — подборки событий

### Private API

POST /users/{id}/events — создать событие

PATCH /users/{id}/events/{eventId} — изменить событие

GET /users/{id}/requests — заявки на участие

PATCH /users/{userId}/events/{eventId}/requests — изменение статуса (подтверждена, отменена) заявок на участие в событии текущего пользователя

POST /users/{userId}/requests — добавление запроса от текущего пользователя на участие в чужом событии

### Admin API
POST /admin/users — добавление нового пользователя

GET /admin/events — поиск событий с фильтрацией

PATCH /admin/events/{eventId}/publish — публикация события

PATCH /admin/events/{eventId}/reject — отклонение события

POST /admin/compilations — добавление новой подборки (подборка может не содержать событий)
